<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->

%head
  %meta{:charset => "utf-8"}
  %meta{:content => "IE=edge", "http-equiv" => "X-UA-Compatible"}
  %title= "#{title} | bike walk vote"
  %meta{:content => "#{description}", :name => "description"}
  %meta{:content => "#{author}", :name => "author"}
  / Mobile viewport optimized: j.mp/bplateviewport
  %meta{:content => "width=device-width, initial-scale=1.0", :name => "viewport"}
  / Place favicon.ico & apple-touch-icon.png in the root of your domain and delete these references
  %link{:href => "/favicon.ico", :rel => "shortcut icon"}
  %link{:href => "/apple-touch-icon.png", :rel => "apple-touch-icon"}
  / CSS : implied media="all"
  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/main.css">
  %link{:href => "/css/style.css?v=2", :rel => "stylesheet"}
  %link{:href => "http://fonts.googleapis.com/css?family=Josefin+Sans:100,300,400,600,700,100italic,300italic,400italic,600italic,700italic", :rel => "stylesheet", :type => "text/css"}
  / end CSS

  <!-- BEGIN Open Graph (tags for Facebook integration, check out http://developers.facebook.com/docs/opengraph/) -->
  <meta property="og:title" content="Bike Walk Vote" />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="http://www.bikewalkvote.org/images/bikeWalkVoteLogo.png" />
  <meta property="og:url" content="http://www.bikewalkvote.org" />
  <meta property="og:site_name" content="bike walk vote" />
  <meta property="fb:admins" content="17701902" />
  <meta property="og:description" content="Elevating active transportation options in local politics." />
  <!-- END Open Graph -->


  -#  Uncomment if you are specifically targeting less enabled mobile browsers
  -#  <link rel="stylesheet" media="handheld" href="css/handheld.css?v=2">
  / All JavaScript at the bottom, except for Modernizr which enables HTML5 elements & feature detects
  %script{:src => "js/vendor/modernizr-2.6.2.min.js"}
  :javascript
    Modernizr.addTest('backgroundclip',function(){
      var div = document.createElement('div');
      if ('backgroundClip' in div.style) return true;
      'Webkit Moz O ms Khtml'.replace(/([A-Za-z]*)/g,function(val){
        if (val+'BackgroundClip' in div.style) return true;
      });
    });
  %script{ :src => "http://use.typekit.com/div8jmz.js", :type => "text/javascript" }
  %script{ :type => "text/javascript"}
    try{Typekit.load();}catch(e){}



%body
  /[if lt IE 7]
    <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>


  #container

    %header
      %h1#logo
        %a{:href => "/", :title => "home"} bike walk vote

    #main{:role => "main"}
      -#  <form method="get" action="http://www.google.com/search">
      -#  <input type="text" name="q" value="search" />
      -#  Do we need a "go" button?
      -#  <input type="submit" value="Search" />
      -#  </form>

      %a{:href => "/about.html", :title => "about bike walk vote"} ABOUT
      %a{:href => "/media.html", :title => "bike walk vote in the media"} MEDIA
      %a{:href => "/candidates.html", :title => "candidate responses to our questionaires"} CANDIDATES
      %a#contribute{:href => "/contribute.html", :title => "contribute to bike walk vote"} CONTRIBUTE
      %a{:href => "/", :title => "back to the bike walk vote main page"} HOME



    -# -------------------------BEGIN INSERTED PAGE CONTENT ---------------------------
    %section#content
      =yield
    -# -------------------------END PAGE CONTENT --------------------------------------

    %aside
      / BEGIN Facebook page link
      %div
        %a{:href => "http://www.facebook.com/bikewalkvote", :title => "the bike walk vote facebook page"}
          %img{:src => "/images/f_logo.png", :alt => "bike walk vote facebook page"}
          /%p page
      / END Facebook page link

      / BEGIN Twitter page link
      %div
        %a{:href=>"http://twitter.com/#!/bikewalkvote", :title => "the bike walk vote twitter stream"}
          %img{:src=>"/images/twitter_newbird_blue.png", :alt => "bike walk vote twitter stream"}
      / END Twitter page link

      / BEGIN Google +1 button
      .g-plusone{ "data-size" => "tall", "datadata-href" => "http://www.bikewalkvote.org/"}
      / END Google +1 button

      / BEGIN Facebook like button
      .fb-like{"data-href" => "http://www.bikewalkvote.org/", "data-send" => "true", "data-layout" => "box_count", "data-width" => "100", "data-show-faces" => "false",  "data-font" => "trebuchet ms"}
      / END Facebook like button

    #push
    %footer
      %a{:href => "/contribute.html"}= 'contribute'
      %a{:href => "/about.html"}= 'about us'


  / ! end of #container

  / Javascript at the bottom for fast page loading
  / Grab Google CDN's jQuery. fall back to local if necessary
  %script{:src => "//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"}

  :javascript
    !window.jQuery && document.write(unescape('%3Cscript src="js/vendor/jquery-1.10.2.min.js"%3E%3C/script%3E'))

  -#/ scripts concatenated and minified via ant build script
  %script{:src => "/js/plugins.js"}
  -#/%script{:src => "/js/main.js"}
  %script{:src => "/js/vendor/google-plus-1-button.js", :type => "text/javascript"}
  /%script{:src => "/js/vendor/google-analytics.js", :type => "text/javascript"}
  -# %script{:src => "/js/vendor/twitter.js", :type => "text/javascript"}
  -# We only used the twitter code for the Mayoral debate; no longer needed.
  -# TODO: load google-analytics from remote server

  / end concatenated and minified scripts


  / TODO yui profiler and profileviewer - remove for production
  /%script{:src => "/js/profiling/yahoo-profiling.min.js"}
  /%script{:src => "/js/profiling/config.js"}
  / end profiling code

  / Google Analytics
  :javascript
    (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
    function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
    e=o.createElement(i);r=o.getElementsByTagName(i)[0];
    e.src='//www.google-analytics.com/analytics.js';
    r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
    ga('create','UA-27483955-1');ga('send','pageview');

  /
    BEGIN JavaScript SDK (neccessary for HTML5 Facebook like button to work)
    I don't know why loading this from a .js file is not working.  -JJ
  #fb-root
  :javascript
    (function(d, s, id) {
      var js, fjs = d.getElementsByTagName(s)[0];
      if (d.getElementById(id)) return;
      js = d.createElement(s); js.id = id;
      js.src = "//connect.facebook.net/en_US/all.js#xfbml=1";
      fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));
  / END JavaScript SD

</html>
